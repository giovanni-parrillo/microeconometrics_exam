\documentclass{article}
\usepackage{soul, color}
\usepackage{amsmath}
\usepackage{dsfont}
\usepackage{graphicx} % Required for inserting images

\title{Final assignment - Microeconometrics}
\author{Giovanni Parrillo - 642728 \\ Giovanni Stivella - 642210} % i nomi sono in ordine alfabetico!!

\date{20 January 2026}

\begin{document}

\input{Copertina.tex}



\section*{Introduction}

This paper aims to replicate the findings of Abman, R., Lundberg, C., and Ruta, M. (2024) on the effectiveness of environmental provisions in Regional Trade Agreements (RTAs).

In the original paper, the authors considered different Regional Trade Agreements between Countries or group of Countries and looked at whether the inclusion of enviromental provisions aimed at reducing the enviromental impact of trade agreements resulted effective.

In particular, they looked at the impact of Regional Trade Agreements on deforestation in Countries involved in the agreements.

The rationale behind the study is that the implementation of RTAs lead to increased trade flows between the Countries involved, with particular effect on the trade of agricultural goods: higher demand for agricultural goods incentives deforestation in order to convert to agriculture land previously devoted to forest.

On the other side, the inclusion of enviromental provisions should be aimed at reducing the enviromental impact of RTAs, and in particular they should mitigate the effect on deforestation.

When analysing these trends, however, problems of endogeneity arise.
In fact, we expect enviromental provisions to be implented by Countries which are more concerned with deforestation or biodiversity loss, possibly because they are more affected by these phenomena.

In order to deal with the problem of endogeneity, the authors use propensity score matching: based on other covariates, they estimate the probability that a Regional Trade Agreement includes an enviromental provision; then, they match RTAs with enviromental provision with RTAs without enviromental provisions but close propensity score.

It is important to note that RTAs are considered as units: that is the default for most of the paper, where variables are analysed at RTA level.

As the number of covariates is quite high, a LASSO estimation is used while computing the propensity score: this methodology allows researchers to perform feature selection.

In the following sections, we will present and briefly comment the results obtained by performing the same analysis as the one conducted by Abman, R., Lundberg, C., and Ruta, M. (2024) on another dataset.

\newpage

\section*{Propensity Score Estimation}
In order to estimate the propensity score, we performed a LASSO regression using as dependent variable a dummy equal to 1 if the RTA includes an enviromental provision, and 0 otherwise.

LASSO regression is a method of regression in which a different minimisation problem is used: instead of minimising the sum of squares of residuals, the quantity to be minimised also includes the sum of absolute values of coefficients multiplied by a penalisation term $\lambda$:

\begin{equation*}
\min_{\beta} \left( \sum_{i=1}^{n} (y_i - X_i \beta)^2 + \lambda \sum_{j=1}^{p} |\beta_j| \right)
\end{equation*}

We can think of $\lambda$ as a penalisation term because it penalises the inclusion of a high number of coefficients: when $\lambda = 0$, the LASSO regression coincides with the OLS regression, while with higher values of $\lambda$, the inclusion of more coefficients is penalised and therefore the mechanism of feature selection takes place.

In order to choose the best value of penalisation term $\lambda$, we adopted the same strategy used in the paper: using the value that minimizes the mean $k$-fold cross-validation error.

In fact, the use of penalisation term $\lambda$ has two effects on the Mean Squared Error in the estimation of the parameters: on one side, it reduces variance by constraining the estimated coefficients; on the other side, it introduces a bias in the estimation.
While we can't observe the variance and the bias of the estimator, we can estimate them through cross-validation dividing iteravitely the sample in testing and training set.
However, we will not explore in detail the methodology as it did not involve any particular intervention by us: using \textit{glmnet} library, we were able to obtain automatically $\lambda$ that minimises estimated MSE, and use it to get estimated coefficients.

To be more precise, instead of using LASSO regression directly, we used a LASSO logistic regression, as the dependent variable is a dummy variable.
Its formulation is similar to the one of LASSO regression:
\begin{equation*}
\max_{\mathbf{\beta}} \left( \sum_{i=1}^{n} l(\mathds{1}\left[ y_i \right], \mathbf{X_i} \mathbf{\beta} | \beta) - \lambda \sum_{j=1}^{p} |\beta_j| \right)
\end{equation*}
where $l(.)$ is the log-likelihood function of the logistic regression.

As candidate variables, we used the same variables used in the original paper: the maximum and average biodiversity indices across agreement signatories, the number of tropical signatories and an indicator for whether any signatories are in the tropics, the total forest cover of signatories in the year 2000, the total landarea of signatories,the total percent of land area among signatories covered by forest in 2000, and finally a set of regional categories that include an indicator for any signatories belonging to the region as well as the numbers of members in the region (e.g., North America, Central and South America); furthermore, we included individual country indicators taking values of unity, if the country is a signatory to the RTA and
zero otherwise, which capture country-specific factors, as well as any other country-level factors related to the political economy of trade negotiations. Finally, we included indicators for the presence of different combinations of developed and developing counterparties

After performing the LASSO logistic regression, we obtained the propensity scores for each RTA as the predicted values of the dependent variable using the estimated coefficients.
These propensity scores allowed us to move to the actual estimation of the model.

\newpage

\section*{Main model estimation}

The main models estimated in the paper are difference-in-differences models with fixed effects, written as follows:

\begin{equation*}
    y_{gt} = \beta_1 \mathds{1}[\text{Post\_RTA}_{gt}] + \beta_2 \mathds{1}[ \text{Post\_RTA}_{gt}] \times \mathds{1}[\text{Enviro\_RTA}_g]+ \alpha_g + \gamma_t + \varepsilon_{gt}
\end{equation*}

where $y_{gt}$ is the outcome variable of interest, $\alpha_g$ is the RTA fixed-effect and $\gamma_t$ is the time fixed-effect.

The variable $\mathds{1}[\text{Post\_RTA}_{gt}]$ is a dummy variable equal to 1 if the year $t$ is after the implementation of the RTA $g$, and 0 otherwise.
The variable $\mathds{1}[\text{Enviro\_RTA}_g]$ is a dummy variable equal to 1 if the RTA $g$ includes an enviromental provision, and 0 otherwise.

Consequently, the coefficient $\beta_1$ captures the effect of RTAs without enviromental provisions on the outcome variable, while the coefficient $\beta_2$ captures the additional effect of RTAs with enviromental provisions.
Therefore, the total effect of RTAs with enviromental provisions is given by the sum of $\beta_1$ and $\beta_2$.

%SUTVA and other assumptions (including parallel trends?)
In order to give causal interpretation to the estimated coefficients, we need that some assumptions hold.
First of all, we need the Stable Unit Treatment Value Assumption (SUTVA) to hold: this assumption requires that the potential outcomes for any unit do not vary with the treatments assigned to other units, and that for each unit, there are no different forms or versions of each treatment level, which lead to different potential outcomes.

The authors do not discuss in detail the possibility that different levels of enviromental provisions may lead to different potential outcomes, therefore we will assume that all enviromental provisions in our dataset have similar effects on the outcome variable.

As for the absence of spillover effects, the authors discuss more in detail this point.
The main variable of interest is deforestation, which tends to be mainly driven by agricultural land expansion; RTAs, therefore, usually increase deforestation because signatory Countries experience higher demand for agricultural goods which is addressed by expanding agricultural land.
In this context, spillover effects may arise when RTAs displace demand for agricultural good from non-signatory to signatory Countries.
However, deforestation is almost irreversible: therefore, while the effect of RTAs in signatory Countries is to increase deforestation, non-signatory Countries will not experience a decrease in deforestation because the land that has already been deforested cannot be reforested.

The second assumption that needs to be analysed is the parallel trends assumption.

In order to do that, we present two plots that compare the trends of deforestation in RTAs with and without enviromental provisions before the implementation of the agreement.

The first plot shows the average deforestation rate across RTAs with and without enviromental provisions in the years before and after the implementation of the agreement.

The second plot shows the results of an event study estimation, where we estimate the following model:
\begin{equation*}
    y_{gt} = \sum_{k \neq -1} \beta_k D_{g,t+k} + \alpha_g + \gamma_t + \varepsilon_{gt}
\end{equation*}
where $D_{g,t+k}$ is a dummy variable equal to 1 if the year $t$ is $k$ years after the implementation of the RTA $g$ (if $k$ is negative, it means that the year is before the implementation of the RTA); the omitted category is $k = -1$, that is, the year before the implementation of the RTA.

It can be noted that the two plots are basically equivalent: in fact, the second plot is a representation of the first one where the lines of treatment and control group have been shifted to have value 0 in the year before the implementation of the RTA.

\newpage

\subsection*{Standard errors corrected with sparse cross-cluster correlations}

Before exploring the results of the model estimation, it is important to note that, while the coefficients are estimated in a conventional way, the study employs an unconventional approach, that we replicated, to compute standard errors.

In fact, standard errors are clustered at the RTA level, but, because of the presence of overlapping membership across RTAs, the authors have developed a method to allow for sparse cross-cluster correlation in the covariance matrix.

The first step is to define a matrix $W$ that captures the overlapping membership across RTAs, that are indicated in the next equations by $g$ and $h$.

Each element $w_{g,h}$ of the matrix $W$ is defined as follows:
\begin{equation*}
w_{g,h} = \frac{1}{n_g} \sum_{k \in G} \mathbf{1}[k \in H],
\end{equation*}

where $\mathbf{1}[k \in G] = 1$ if country $k$ is a party to agreement $g$.
If there is no membership overlap between agreements $g$ and $h$, $w_{g,h} = 0$.
If there is overlap, cross-cluster correlation is weighted by the degree of overlap, that is, the share of total members to agreement $g$ that are also members to agreement $h$.

Then, a covariance matrix $\hat{V}$ allowing for sparse cross-cluster correlation is defined as follows: 
\begin{equation*}
\hat{V} = \sum_{g=1}^{n} \sum_{h=1}^{n}
w_{g,h} X_g' \hat{\varepsilon}_g \hat{\varepsilon}_h' X_h,
\end{equation*}

where $X_g$ is the matrix of regressors for agreement $g$, and $\hat{\varepsilon}_g$ is the vector of residuals for agreement $g$.

Finally, the variance-covariance matrix of the estimated coefficients is given by:

\begin{equation*}
\mathrm{Var}[\hat{\beta}] = (X'X)^{-1} \hat{V} (X'X)^{-1}
\end{equation*}

We have implemented this methodology to compute standard errors wherever the authors used it in the original paper.






\newpage

\subsection*{Model estimation for deforestation}

The main variables of interest in the original paper are the ones related to deforestation.
Therefore, we will firstly present the results obtained when using deforestation as outcome variable.

As previously exposed, the standard errors are computed allowing for sparse cross-cluster correlation.

\subsubsection*{Results}

\newpage

\subsection*{Model estimation for other variables}

Abman, R., Lundberg, C., and Ruta, M. (2024) then proceed to estimate the same models using other outcome variables.

The first extension is to differentiate agreements based on the signatories: in particular, they distinguish between agreements that involve tropical countries, agreements that involve developing countries, and agreements that involve countries with high risk of losing biodiversity.

\subsubsection*{Results}

\newpage

\subsection*{Inclusion of enforcement mechanisms}

Another extension performed in the original paper is to differentiate enviromental provisions based on the presence of enforcement mechanisms.
In fact, when policy analysis is conducted, it is important to understand whether the inclusion of special enforcement mechanisms make enviromental provisions more effective.

\subsubsection*{Results}

\end{document}
